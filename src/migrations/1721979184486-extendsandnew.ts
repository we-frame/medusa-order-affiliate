import { MigrationInterface, QueryRunner } from "typeorm";

export class Extendsandnew1721979184486 implements MigrationInterface {
    name = 'Extendsandnew1721979184486'

    public async up(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`ALTER TABLE "return_reason" DROP CONSTRAINT "FK_2250c5d9e975987ab212f61a657"`);
        await queryRunner.query(`ALTER TABLE "line_item_tax_line" DROP CONSTRAINT "FK_5077fa54b0d037e984385dfe8ad"`);
        await queryRunner.query(`ALTER TABLE "order_edit" DROP CONSTRAINT "FK_order_edit_payment_collection_id"`);
        await queryRunner.query(`ALTER TABLE "line_item" DROP CONSTRAINT "line_item_order_edit_fk"`);
        await queryRunner.query(`ALTER TABLE "line_item" DROP CONSTRAINT "line_item_original_item_fk"`);
        await queryRunner.query(`ALTER TABLE "cart" DROP CONSTRAINT "FK_a2bd3c26f42e754b9249ba78fd6"`);
        await queryRunner.query(`ALTER TABLE "draft_order" DROP CONSTRAINT "FK_5bd11d0e2a9628128e2c26fd0a6"`);
        await queryRunner.query(`ALTER TABLE "refund" DROP CONSTRAINT "FK_refund_payment_id"`);
        await queryRunner.query(`ALTER TABLE "order" DROP CONSTRAINT "FK_6ff7e874f01b478c115fdd462eb"`);
        await queryRunner.query(`ALTER TABLE "batch_job" DROP CONSTRAINT "FK_fa53ca4f5fd90605b532802a626"`);
        await queryRunner.query(`ALTER TABLE "payment_collection" DROP CONSTRAINT "FK_payment_collection_region_id"`);
        await queryRunner.query(`ALTER TABLE "store" DROP CONSTRAINT "FK_61b0f48cccbb5f41c750bac7286"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP CONSTRAINT "FK_37341bad297fe5cca91f921032b"`);
        await queryRunner.query(`ALTER TABLE "product_category_product" DROP CONSTRAINT "FK_product_id"`);
        await queryRunner.query(`ALTER TABLE "product_category_product" DROP CONSTRAINT "FK_product_category_id"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product" DROP CONSTRAINT "FK_f05132301e95bdab4ba1cf29a24"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product" DROP CONSTRAINT "FK_c759f53b2e48e8cfb50638fe4e0"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_type" DROP CONSTRAINT "FK_6ef23ce0b1d9cf9b5b833e52b9d"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_type" DROP CONSTRAINT "FK_e706deb68f52ab2756119b9e704"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_tag" DROP CONSTRAINT "FK_fbb2499551ed074526f3ee36241"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_tag" DROP CONSTRAINT "FK_01486cc9dc6b36bf658685535f6"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_collection" DROP CONSTRAINT "FK_a1c4f9cfb599ad1f0db39cadd5f"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_collection" DROP CONSTRAINT "FK_a0b05dc4257abe639cb75f8eae2"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_customer_group" DROP CONSTRAINT "FK_8486ee16e69013c645d0b8716b6"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_customer_group" DROP CONSTRAINT "FK_4d5f98645a67545d8dea42e2eb8"`);
        await queryRunner.query(`ALTER TABLE "discount_regions" DROP CONSTRAINT "FK_a21a7ffbe420d492eb46c305fec"`);
        await queryRunner.query(`ALTER TABLE "discount_regions" DROP CONSTRAINT "FK_f4194aa81073f3fab8aa86906ff"`);
        await queryRunner.query(`ALTER TABLE "claim_item_tags" DROP CONSTRAINT "FK_dc9bbf9fcb9ba458d25d512811b"`);
        await queryRunner.query(`ALTER TABLE "claim_item_tags" DROP CONSTRAINT "FK_c2c0f3edf39515bd15432afe6e5"`);
        await queryRunner.query(`ALTER TABLE "cart_discounts" DROP CONSTRAINT "FK_8df75ef4f35f217768dc1135458"`);
        await queryRunner.query(`ALTER TABLE "cart_discounts" DROP CONSTRAINT "FK_6680319ebe1f46d18f106191d59"`);
        await queryRunner.query(`ALTER TABLE "cart_gift_cards" DROP CONSTRAINT "FK_0fb38b6d167793192bc126d835e"`);
        await queryRunner.query(`ALTER TABLE "cart_gift_cards" DROP CONSTRAINT "FK_d38047a90f3d42f0be7909e8aea"`);
        await queryRunner.query(`ALTER TABLE "order_discounts" DROP CONSTRAINT "FK_0fc1ec4e3db9001ad60c19daf16"`);
        await queryRunner.query(`ALTER TABLE "order_discounts" DROP CONSTRAINT "FK_e7b488cebe333f449398769b2cc"`);
        await queryRunner.query(`ALTER TABLE "order_gift_cards" DROP CONSTRAINT "FK_f2bb9f71e95b315eb24b2b84cb3"`);
        await queryRunner.query(`ALTER TABLE "order_gift_cards" DROP CONSTRAINT "FK_e62ff11e4730bb3adfead979ee2"`);
        await queryRunner.query(`ALTER TABLE "customer_group_customers" DROP CONSTRAINT "FK_3c6412d076292f439269abe1a23"`);
        await queryRunner.query(`ALTER TABLE "product_images" DROP CONSTRAINT "FK_2212515ba306c79f42c46a99db7"`);
        await queryRunner.query(`ALTER TABLE "product_images" DROP CONSTRAINT "FK_4f166bb8c2bfcef2498d97b4068"`);
        await queryRunner.query(`ALTER TABLE "product_tags" DROP CONSTRAINT "FK_21683a063fe82dafdf681ecc9c4"`);
        await queryRunner.query(`ALTER TABLE "product_tags" DROP CONSTRAINT "FK_5b0c6fc53c574299ecc7f9ee22e"`);
        await queryRunner.query(`ALTER TABLE "product_tax_rate" DROP CONSTRAINT "FK_2484cf14c437a04586b07e7dddb"`);
        await queryRunner.query(`ALTER TABLE "product_tax_rate" DROP CONSTRAINT "FK_1d04aebeabb6a89f87e536a124d"`);
        await queryRunner.query(`ALTER TABLE "product_type_tax_rate" DROP CONSTRAINT "FK_ece65a774192b34253abc4cd672"`);
        await queryRunner.query(`ALTER TABLE "product_type_tax_rate" DROP CONSTRAINT "FK_25a3138bb236f63d9bb6c8ff111"`);
        await queryRunner.query(`ALTER TABLE "shipping_tax_rate" DROP CONSTRAINT "FK_346e0016cf045b9980747747645"`);
        await queryRunner.query(`ALTER TABLE "shipping_tax_rate" DROP CONSTRAINT "FK_f672727ab020df6c50fb64c1a70"`);
        await queryRunner.query(`ALTER TABLE "region_payment_providers" DROP CONSTRAINT "FK_3a6947180aeec283cd92c59ebb0"`);
        await queryRunner.query(`ALTER TABLE "region_payment_providers" DROP CONSTRAINT "FK_8aaa78ba90d3802edac317df869"`);
        await queryRunner.query(`ALTER TABLE "region_fulfillment_providers" DROP CONSTRAINT "FK_37f361c38a18d12a3fa3158d0cf"`);
        await queryRunner.query(`ALTER TABLE "region_fulfillment_providers" DROP CONSTRAINT "FK_c556e14eff4d6f03db593df955e"`);
        await queryRunner.query(`ALTER TABLE "payment_collection_sessions" DROP CONSTRAINT "FK_payment_collection_sessions_payment_session_id"`);
        await queryRunner.query(`ALTER TABLE "payment_collection_sessions" DROP CONSTRAINT "FK_payment_collection_sessions_payment_collection_id"`);
        await queryRunner.query(`ALTER TABLE "payment_collection_payments" DROP CONSTRAINT "FK_payment_collection_payments_payment_id"`);
        await queryRunner.query(`ALTER TABLE "payment_collection_payments" DROP CONSTRAINT "FK_payment_collection_payments_payment_collection_id"`);
        await queryRunner.query(`ALTER TABLE "store_currencies" DROP CONSTRAINT "FK_82a6bbb0b527c20a0002ddcbd60"`);
        await queryRunner.query(`ALTER TABLE "store_currencies" DROP CONSTRAINT "FK_b4f4b63d1736689b7008980394c"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_product_category_path"`);
        await queryRunner.query(`DROP INDEX "public"."UniqProductCategoryParentIdRank"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_product_category_handle"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_product_category_active_public"`);
        await queryRunner.query(`DROP INDEX "public"."idx_gin_product_collection"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_payment_currency_code"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_return_reason_value"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_order_edit_payment_collection_id"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_order_edit_order_id"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_sales_channel_location_sales_channel_id"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_sales_channel_location_location_id"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_refund_payment_id"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_order_currency_code"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_unique_email_for_guests_and_customer_accounts"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_money_amount_currency_code"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_product_variant_inventory_item_inventory_item_id"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_product_variant_inventory_item_variant_id"`);
        await queryRunner.query(`DROP INDEX "public"."idx_gin_product_variant_title"`);
        await queryRunner.query(`DROP INDEX "public"."idx_gin_product_variant_sku"`);
        await queryRunner.query(`DROP INDEX "public"."idx_gin_product_title"`);
        await queryRunner.query(`DROP INDEX "public"."idx_gin_product_description"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_region_currency_code"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_379ca70338ce9991f3affdeedf"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_8486ee16e69013c645d0b8716b"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_4d5f98645a67545d8dea42e2eb"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_f05132301e95bdab4ba1cf29a2"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_c759f53b2e48e8cfb50638fe4e"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_a1c4f9cfb599ad1f0db39cadd5"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_a0b05dc4257abe639cb75f8eae"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_fbb2499551ed074526f3ee3624"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_01486cc9dc6b36bf658685535f"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_6ef23ce0b1d9cf9b5b833e52b9"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_e706deb68f52ab2756119b9e70"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_payment_collection_region_id"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_payment_collection_currency_code"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_2484cf14c437a04586b07e7ddd"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_1d04aebeabb6a89f87e536a124"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_ece65a774192b34253abc4cd67"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_25a3138bb236f63d9bb6c8ff11"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_id_publishable_api_key_sales_channel"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_346e0016cf045b998074774764"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_f672727ab020df6c50fb64c1a7"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_5a4d5e1e60f97633547821ec8d"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_37341bad297fe5cca91f921032"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_upcp_product_id_product_category_id"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_pcp_product_category_id"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_pcp_product_id"`);
        await queryRunner.query(`DROP INDEX "public"."idx_product_shipping_profile_profile_id_product_id_unique"`);
        await queryRunner.query(`DROP INDEX "public"."idx_product_shipping_profile_product_id"`);
        await queryRunner.query(`DROP INDEX "public"."idx_product_shipping_profile_profile_id"`);
        await queryRunner.query(`DROP INDEX "public"."idx_product_variant_money_amount_money_amount_id_unique"`);
        await queryRunner.query(`DROP INDEX "public"."idx_product_variant_money_amount_variant_id"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_payment_collection_sessions_payment_collection_id"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_payment_collection_sessions_payment_session_id"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_payment_collection_payments_payment_collection_id"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_payment_collection_payments_payment_id"`);
        await queryRunner.query(`ALTER TABLE "product_category" DROP CONSTRAINT "product_category_rank_check"`);
        await queryRunner.query(`ALTER TABLE "product_variant_inventory_item" DROP CONSTRAINT "UQ_c9be7c1b11a1a729eb51d1b6bca"`);
        await queryRunner.query(`CREATE TABLE "affiliate_log" ("id" character varying NOT NULL, "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now(), "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now(), "code" character varying NOT NULL, "commission" numeric NOT NULL, "metadata" jsonb NOT NULL, "customer_id" character varying NOT NULL, CONSTRAINT "PK_8c351ca0017da767d3d4c7ce8f1" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "order_sales_channel" ("id" character varying NOT NULL, "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now(), "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now(), "deleted_at" TIMESTAMP WITH TIME ZONE, "order_id" character varying NOT NULL, "sales_channel_id" character varying NOT NULL, CONSTRAINT "PK_98d5c8a37b71683b03f30b3aa51" PRIMARY KEY ("id", "order_id", "sales_channel_id"))`);
        await queryRunner.query(`CREATE UNIQUE INDEX "order_sales_channel_order_id_unique" ON "order_sales_channel" ("order_id") `);
        await queryRunner.query(`ALTER TABLE "cart" DROP COLUMN "sales_channel_id"`);
        await queryRunner.query(`ALTER TABLE "order" DROP COLUMN "sales_channel_id"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "store" DROP CONSTRAINT "UQ_61b0f48cccbb5f41c750bac7286"`);
        await queryRunner.query(`ALTER TABLE "store" DROP COLUMN "default_sales_channel_id"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product" DROP COLUMN "metadata"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_type" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_type" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_type" DROP COLUMN "metadata"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_tag" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_tag" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_tag" DROP COLUMN "metadata"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_collection" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_collection" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_collection" DROP COLUMN "metadata"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_customer_group" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_customer_group" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_customer_group" DROP COLUMN "metadata"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP CONSTRAINT "PK_product_variant_money_amount"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "product_tax_rate" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "product_tax_rate" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "product_tax_rate" DROP COLUMN "metadata"`);
        await queryRunner.query(`ALTER TABLE "product_type_tax_rate" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "product_type_tax_rate" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "product_type_tax_rate" DROP COLUMN "metadata"`);
        await queryRunner.query(`ALTER TABLE "shipping_tax_rate" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "shipping_tax_rate" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "shipping_tax_rate" DROP COLUMN "metadata"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_customer_group" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "discount_condition_customer_group" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "discount_condition_customer_group" ADD "metadata" jsonb`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product" ADD "metadata" jsonb`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_collection" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_collection" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_collection" ADD "metadata" jsonb`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_tag" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_tag" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_tag" ADD "metadata" jsonb`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_type" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_type" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_type" ADD "metadata" jsonb`);
        await queryRunner.query(`ALTER TABLE "product_tax_rate" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "product_tax_rate" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "product_tax_rate" ADD "metadata" jsonb`);
        await queryRunner.query(`ALTER TABLE "product_type_tax_rate" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "product_type_tax_rate" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "product_type_tax_rate" ADD "metadata" jsonb`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD "id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD CONSTRAINT "PK_57626b0cfe8fd2d8dfc85d8d7ea" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD "deleted_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD "id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP CONSTRAINT "PK_68eaeb14bdac8954460054c567c"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD CONSTRAINT "PK_d159a0706b36a52b67becd7801f" PRIMARY KEY ("sales_channel_id", "publishable_key_id", "id")`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "shipping_tax_rate" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "shipping_tax_rate" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "shipping_tax_rate" ADD "metadata" jsonb`);
        await queryRunner.query(`ALTER TABLE "order" ADD "code_used" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "order" ADD "commission" numeric NOT NULL`);
        await queryRunner.query(`ALTER TABLE "order" ADD "commission_rate" numeric NOT NULL`);
        await queryRunner.query(`ALTER TABLE "customer" ADD "affiliate_code" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "customer" ADD "total_sales" numeric NOT NULL`);
        await queryRunner.query(`ALTER TABLE "customer" ADD "commission" numeric NOT NULL`);
        await queryRunner.query(`ALTER TABLE "customer" ADD "affiliate_status" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD "id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP CONSTRAINT "PK_fd29b6a8bd641052628dee19583"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD CONSTRAINT "PK_b069f21846e11415dfc7f8919eb" PRIMARY KEY ("product_id", "sales_channel_id", "id")`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "product_category_product" ADD CONSTRAINT "PK_d3d6dadb64d3d4ee0eff4ecf27c" PRIMARY KEY ("product_category_id", "product_id")`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" ADD CONSTRAINT "PK_b473298fff77f25bebe4e0fa71f" PRIMARY KEY ("profile_id", "product_id")`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP CONSTRAINT "PK_b069f21846e11415dfc7f8919eb"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD CONSTRAINT "PK_fd29b6a8bd641052628dee19583" PRIMARY KEY ("sales_channel_id", "product_id")`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP CONSTRAINT "PK_d159a0706b36a52b67becd7801f"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD CONSTRAINT "PK_68eaeb14bdac8954460054c567c" PRIMARY KEY ("sales_channel_id", "publishable_key_id")`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP CONSTRAINT "PK_57626b0cfe8fd2d8dfc85d8d7ea"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD CONSTRAINT "PK_dd69c52f1f393d7a451200e82f7" PRIMARY KEY ("money_amount_id", "variant_id")`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP CONSTRAINT "PK_acc7faece57e3a7c10fbb57dd81"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD CONSTRAINT "PK_dd69c52f1f393d7a451200e82f7" PRIMARY KEY ("variant_id", "money_amount_id")`);
        await queryRunner.query(`ALTER TABLE "product_category" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "product_category" ADD "name" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_category" DROP COLUMN "description"`);
        await queryRunner.query(`ALTER TABLE "product_category" ADD "description" character varying NOT NULL DEFAULT ''`);
        await queryRunner.query(`ALTER TABLE "product_category" DROP COLUMN "handle"`);
        await queryRunner.query(`ALTER TABLE "product_category" ADD "handle" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_category" ALTER COLUMN "is_active" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_category" ALTER COLUMN "is_active" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "product_category" ALTER COLUMN "is_internal" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_category" ALTER COLUMN "is_internal" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "product_category" ALTER COLUMN "parent_category_id" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_category" DROP COLUMN "mpath"`);
        await queryRunner.query(`ALTER TABLE "product_category" ADD "mpath" character varying DEFAULT ''`);
        await queryRunner.query(`ALTER TABLE "discount" ALTER COLUMN "starts_at" SET DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "return" DROP COLUMN "location_id"`);
        await queryRunner.query(`ALTER TABLE "return" ADD "location_id" text`);
        await queryRunner.query(`ALTER TABLE "return" DROP COLUMN "idempotency_key"`);
        await queryRunner.query(`ALTER TABLE "return" ADD "idempotency_key" text`);
        await queryRunner.query(`ALTER TABLE "fulfillment" DROP CONSTRAINT "FK_beb35a6de60a6c4f91d5ae57e44"`);
        await queryRunner.query(`ALTER TABLE "fulfillment" ALTER COLUMN "provider_id" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "fulfillment" DROP COLUMN "location_id"`);
        await queryRunner.query(`ALTER TABLE "fulfillment" ADD "location_id" text`);
        await queryRunner.query(`ALTER TABLE "order_edit" ADD CONSTRAINT "UQ_231883ff6ec551fdc0730fea005" UNIQUE ("payment_collection_id")`);
        await queryRunner.query(`ALTER TABLE "line_item" DROP COLUMN "description"`);
        await queryRunner.query(`ALTER TABLE "line_item" ADD "description" text`);
        await queryRunner.query(`ALTER TABLE "line_item" DROP COLUMN "thumbnail"`);
        await queryRunner.query(`ALTER TABLE "line_item" ADD "thumbnail" text`);
        await queryRunner.query(`ALTER TABLE "sales_channel_location" DROP COLUMN "sales_channel_id"`);
        await queryRunner.query(`ALTER TABLE "sales_channel_location" ADD "sales_channel_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "refund" ADD CONSTRAINT "UQ_8e116348330845195dc5b1585fc" UNIQUE ("payment_id")`);
        await queryRunner.query(`ALTER TABLE "product_variant_inventory_item" DROP COLUMN "variant_id"`);
        await queryRunner.query(`ALTER TABLE "product_variant_inventory_item" ADD "variant_id" character varying NOT NULL`);
        await queryRunner.query(`DROP INDEX "public"."IDX_2ca8cfbdafb998ecfd6d340389"`);
        await queryRunner.query(`ALTER TABLE "product_variant" DROP COLUMN "sku"`);
        await queryRunner.query(`ALTER TABLE "product_variant" ADD "sku" text`);
        await queryRunner.query(`DROP INDEX "public"."IDX_045d4a149c09f4704e0bc08dd4"`);
        await queryRunner.query(`ALTER TABLE "product_variant" DROP COLUMN "barcode"`);
        await queryRunner.query(`ALTER TABLE "product_variant" ADD "barcode" text`);
        await queryRunner.query(`DROP INDEX "public"."IDX_b5b6225539ee8501082fbc0714"`);
        await queryRunner.query(`ALTER TABLE "product_variant" DROP COLUMN "ean"`);
        await queryRunner.query(`ALTER TABLE "product_variant" ADD "ean" text`);
        await queryRunner.query(`DROP INDEX "public"."IDX_aa16f61348be02dd07ce3fc54e"`);
        await queryRunner.query(`ALTER TABLE "product_variant" DROP COLUMN "upc"`);
        await queryRunner.query(`ALTER TABLE "product_variant" ADD "upc" text`);
        await queryRunner.query(`ALTER TABLE "product_variant" DROP COLUMN "variant_rank"`);
        await queryRunner.query(`ALTER TABLE "product_variant" ADD "variant_rank" text DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "product_variant" DROP COLUMN "hs_code"`);
        await queryRunner.query(`ALTER TABLE "product_variant" ADD "hs_code" text`);
        await queryRunner.query(`ALTER TABLE "product_variant" DROP COLUMN "origin_country"`);
        await queryRunner.query(`ALTER TABLE "product_variant" ADD "origin_country" text`);
        await queryRunner.query(`ALTER TABLE "product_variant" DROP COLUMN "mid_code"`);
        await queryRunner.query(`ALTER TABLE "product_variant" ADD "mid_code" text`);
        await queryRunner.query(`ALTER TABLE "product_variant" DROP COLUMN "material"`);
        await queryRunner.query(`ALTER TABLE "product_variant" ADD "material" text`);
        await queryRunner.query(`ALTER TABLE "product_option" DROP CONSTRAINT "FK_e634fca34f6b594b87fdbee95f6"`);
        await queryRunner.query(`ALTER TABLE "product_option" ALTER COLUMN "product_id" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product" DROP COLUMN "subtitle"`);
        await queryRunner.query(`ALTER TABLE "product" ADD "subtitle" text`);
        await queryRunner.query(`ALTER TABLE "product" DROP COLUMN "description"`);
        await queryRunner.query(`ALTER TABLE "product" ADD "description" text`);
        await queryRunner.query(`DROP INDEX "public"."IDX_cf9cc6c3f2e6414b992223fff1"`);
        await queryRunner.query(`ALTER TABLE "product" DROP COLUMN "handle"`);
        await queryRunner.query(`ALTER TABLE "product" ADD "handle" text`);
        await queryRunner.query(`ALTER TABLE "product" DROP COLUMN "thumbnail"`);
        await queryRunner.query(`ALTER TABLE "product" ADD "thumbnail" text`);
        await queryRunner.query(`ALTER TABLE "product" DROP COLUMN "hs_code"`);
        await queryRunner.query(`ALTER TABLE "product" ADD "hs_code" text`);
        await queryRunner.query(`ALTER TABLE "product" DROP COLUMN "origin_country"`);
        await queryRunner.query(`ALTER TABLE "product" ADD "origin_country" text`);
        await queryRunner.query(`ALTER TABLE "product" DROP COLUMN "mid_code"`);
        await queryRunner.query(`ALTER TABLE "product" ADD "mid_code" text`);
        await queryRunner.query(`ALTER TABLE "product" DROP COLUMN "material"`);
        await queryRunner.query(`ALTER TABLE "product" ADD "material" text`);
        await queryRunner.query(`ALTER TABLE "product" DROP COLUMN "external_id"`);
        await queryRunner.query(`ALTER TABLE "product" ADD "external_id" text`);
        await queryRunner.query(`ALTER TYPE "public"."PAYMENT_COLLECTION_TYPE_ENUM" RENAME TO "PAYMENT_COLLECTION_TYPE_ENUM_old"`);
        await queryRunner.query(`CREATE TYPE "public"."payment_collection_type_enum" AS ENUM('order_edit')`);
        await queryRunner.query(`ALTER TABLE "payment_collection" ALTER COLUMN "type" TYPE "public"."payment_collection_type_enum" USING "type"::"text"::"public"."payment_collection_type_enum"`);
        await queryRunner.query(`DROP TYPE "public"."PAYMENT_COLLECTION_TYPE_ENUM_old"`);
        await queryRunner.query(`ALTER TYPE "public"."PAYMENT_COLLECTION_STATUS_ENUM" RENAME TO "PAYMENT_COLLECTION_STATUS_ENUM_old"`);
        await queryRunner.query(`CREATE TYPE "public"."payment_collection_status_enum" AS ENUM('not_paid', 'awaiting', 'authorized', 'partially_authorized', 'canceled')`);
        await queryRunner.query(`ALTER TABLE "payment_collection" ALTER COLUMN "status" TYPE "public"."payment_collection_status_enum" USING "status"::"text"::"public"."payment_collection_status_enum"`);
        await queryRunner.query(`DROP TYPE "public"."PAYMENT_COLLECTION_STATUS_ENUM_old"`);
        await queryRunner.query(`ALTER TABLE "payment_collection" DROP COLUMN "description"`);
        await queryRunner.query(`ALTER TABLE "payment_collection" ADD "description" character varying`);
        await queryRunner.query(`ALTER TABLE "payment_collection" ALTER COLUMN "metadata" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP CONSTRAINT "PK_acc7faece57e3a7c10fbb57dd81"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD CONSTRAINT "PK_63b73243e1cb949ca9452290aa5" PRIMARY KEY ("variant_id", "id")`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP COLUMN "money_amount_id"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD "money_amount_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP CONSTRAINT "PK_63b73243e1cb949ca9452290aa5"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD CONSTRAINT "PK_57626b0cfe8fd2d8dfc85d8d7ea" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP COLUMN "variant_id"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD "variant_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP CONSTRAINT "PK_d159a0706b36a52b67becd7801f"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD CONSTRAINT "PK_09b30f059f07cdfa279a365e11b" PRIMARY KEY ("publishable_key_id", "id")`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP COLUMN "sales_channel_id"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD "sales_channel_id" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP CONSTRAINT "PK_09b30f059f07cdfa279a365e11b"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD CONSTRAINT "PK_d159a0706b36a52b67becd7801f" PRIMARY KEY ("publishable_key_id", "id", "sales_channel_id")`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP CONSTRAINT "PK_d159a0706b36a52b67becd7801f"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD CONSTRAINT "PK_6fb3ef7420f29de8010268d8d4a" PRIMARY KEY ("id", "sales_channel_id")`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP COLUMN "publishable_key_id"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD "publishable_key_id" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP CONSTRAINT "PK_6fb3ef7420f29de8010268d8d4a"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD CONSTRAINT "PK_d159a0706b36a52b67becd7801f" PRIMARY KEY ("id", "sales_channel_id", "publishable_key_id")`);
        await queryRunner.query(`ALTER TABLE "store" DROP COLUMN "swap_link_template"`);
        await queryRunner.query(`ALTER TABLE "store" ADD "swap_link_template" text`);
        await queryRunner.query(`ALTER TABLE "store" DROP COLUMN "payment_link_template"`);
        await queryRunner.query(`ALTER TABLE "store" ADD "payment_link_template" text`);
        await queryRunner.query(`ALTER TABLE "store" DROP COLUMN "invite_link_template"`);
        await queryRunner.query(`ALTER TABLE "store" ADD "invite_link_template" text`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP CONSTRAINT "PK_b069f21846e11415dfc7f8919eb"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD CONSTRAINT "PK_8c236af2b686c004eb88b2f5765" PRIMARY KEY ("product_id", "id")`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP COLUMN "sales_channel_id"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD "sales_channel_id" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP CONSTRAINT "PK_8c236af2b686c004eb88b2f5765"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD CONSTRAINT "PK_d6cdf8c0ae6464fd06cf07e18d0" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP COLUMN "product_id"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD "product_id" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" DROP CONSTRAINT "PK_b473298fff77f25bebe4e0fa71f"`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" ADD CONSTRAINT "PK_29ede5f867f7fa0fd61916087b0" PRIMARY KEY ("product_id")`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" DROP COLUMN "profile_id"`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" ADD "profile_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" DROP CONSTRAINT "PK_29ede5f867f7fa0fd61916087b0"`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" ADD CONSTRAINT "PK_b473298fff77f25bebe4e0fa71f" PRIMARY KEY ("product_id", "profile_id")`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" DROP CONSTRAINT "PK_b473298fff77f25bebe4e0fa71f"`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" ADD CONSTRAINT "PK_0f12293f7df4a799e0798ddb645" PRIMARY KEY ("profile_id")`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" DROP COLUMN "product_id"`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" ADD "product_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" DROP CONSTRAINT "PK_0f12293f7df4a799e0798ddb645"`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" ADD CONSTRAINT "PK_b473298fff77f25bebe4e0fa71f" PRIMARY KEY ("profile_id", "product_id")`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP COLUMN "sales_channel_id"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD "sales_channel_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP CONSTRAINT "PK_d6cdf8c0ae6464fd06cf07e18d0"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD CONSTRAINT "PK_40f821f70cbf63eea8157498539" PRIMARY KEY ("id", "sales_channel_id")`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP COLUMN "product_id"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD "product_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP CONSTRAINT "PK_40f821f70cbf63eea8157498539"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD CONSTRAINT "PK_b069f21846e11415dfc7f8919eb" PRIMARY KEY ("id", "sales_channel_id", "product_id")`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP CONSTRAINT "PK_d159a0706b36a52b67becd7801f"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD CONSTRAINT "PK_09b30f059f07cdfa279a365e11b" PRIMARY KEY ("id", "publishable_key_id")`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP COLUMN "sales_channel_id"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD "sales_channel_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP CONSTRAINT "PK_09b30f059f07cdfa279a365e11b"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD CONSTRAINT "PK_d159a0706b36a52b67becd7801f" PRIMARY KEY ("id", "publishable_key_id", "sales_channel_id")`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP CONSTRAINT "PK_d159a0706b36a52b67becd7801f"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD CONSTRAINT "PK_6fb3ef7420f29de8010268d8d4a" PRIMARY KEY ("id", "sales_channel_id")`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP COLUMN "publishable_key_id"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD "publishable_key_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP CONSTRAINT "PK_6fb3ef7420f29de8010268d8d4a"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD CONSTRAINT "PK_d159a0706b36a52b67becd7801f" PRIMARY KEY ("id", "sales_channel_id", "publishable_key_id")`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP CONSTRAINT "PK_57626b0cfe8fd2d8dfc85d8d7ea"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD CONSTRAINT "PK_1d982b710b027f1ede49a3738ff" PRIMARY KEY ("id", "money_amount_id")`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP CONSTRAINT "PK_1d982b710b027f1ede49a3738ff"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD CONSTRAINT "PK_acc7faece57e3a7c10fbb57dd81" PRIMARY KEY ("id", "money_amount_id", "variant_id")`);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_e56706bd5cd6e64178de7a3ea6" ON "product_category" ("handle") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_f5c54f4761791d85de8c2b5cb1" ON "product_category" ("parent_category_id", "rank") `);
        await queryRunner.query(`CREATE INDEX "IDX_f41553459a4b1491c9893ebc92" ON "payment" ("currency_code") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_88340a898eba379aae1e13da3a" ON "return_reason" ("value") WHERE deleted_at IS NULL`);
        await queryRunner.query(`CREATE INDEX "IDX_39967e9bdc127386b644a11c40" ON "return" ("location_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_1f3a251488a91510f57e1bf93c" ON "order_edit" ("order_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_231883ff6ec551fdc0730fea00" ON "order_edit" ("payment_collection_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_6caaa358f12ed0b846f00e2dcd" ON "sales_channel_location" ("sales_channel_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_c2203162ca946a71aeb98390b0" ON "sales_channel_location" ("location_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_8e116348330845195dc5b1585f" ON "refund" ("payment_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_717a141f96b76d794d409f3812" ON "order" ("currency_code") `);
        await queryRunner.query(`CREATE INDEX "IDX_fdb2f3ad8115da4c7718109a6e" ON "customer" ("email") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_12ce6a19940881688284fef871" ON "customer" ("email", "has_account") WHERE deleted_at IS NULL`);
        await queryRunner.query(`CREATE INDEX "IDX_e15811f81339e4bd8c440aebe1" ON "money_amount" ("currency_code") `);
        await queryRunner.query(`CREATE INDEX "IDX_c74e8c2835094a37dead376a3b" ON "product_variant_inventory_item" ("inventory_item_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_bf5386e7f2acc460adbf96d6f3" ON "product_variant_inventory_item" ("variant_id") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_2ca8cfbdafb998ecfd6d340389" ON "product_variant" ("sku") WHERE deleted_at IS NULL`);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_045d4a149c09f4704e0bc08dd4" ON "product_variant" ("barcode") WHERE deleted_at IS NULL`);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_b5b6225539ee8501082fbc0714" ON "product_variant" ("ean") WHERE deleted_at IS NULL`);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_aa16f61348be02dd07ce3fc54e" ON "product_variant" ("upc") WHERE deleted_at IS NULL`);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_cf9cc6c3f2e6414b992223fff1" ON "product" ("handle") WHERE deleted_at IS NULL`);
        await queryRunner.query(`CREATE INDEX "IDX_3bdd5896ec93be2f1c62a3309a" ON "region" ("currency_code") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_7336c32a3cb614d8fb0810741a" ON "analytics_config" ("user_id") WHERE deleted_at IS NULL`);
        await queryRunner.query(`CREATE INDEX "IDX_7b3239a9b6e132100cc19b3ebe" ON "payment_collection" ("region_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_aa9627f942aefe3e731636e58b" ON "payment_collection" ("currency_code") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "idx_product_variant_money_amount_money_amount_id_unique" ON "product_variant_money_amount" ("money_amount_id") `);
        await queryRunner.query(`CREATE INDEX "idx_product_variant_money_amount_variant_id" ON "product_variant_money_amount" ("variant_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_e37baa220ea7386a33adc6b9be" ON "product_category_product" ("product_category_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_a26fce7eda0b28f34108deee2b" ON "product_category_product" ("product_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_f05132301e95bdab4ba1cf29a2" ON "discount_condition_product" ("condition_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_c759f53b2e48e8cfb50638fe4e" ON "discount_condition_product" ("product_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_6ef23ce0b1d9cf9b5b833e52b9" ON "discount_condition_product_type" ("condition_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_e706deb68f52ab2756119b9e70" ON "discount_condition_product_type" ("product_type_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_fbb2499551ed074526f3ee3624" ON "discount_condition_product_tag" ("condition_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_01486cc9dc6b36bf658685535f" ON "discount_condition_product_tag" ("product_tag_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_a1c4f9cfb599ad1f0db39cadd5" ON "discount_condition_product_collection" ("condition_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_a0b05dc4257abe639cb75f8eae" ON "discount_condition_product_collection" ("product_collection_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_8486ee16e69013c645d0b8716b" ON "discount_condition_customer_group" ("condition_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_4d5f98645a67545d8dea42e2eb" ON "discount_condition_customer_group" ("customer_group_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_0f12293f7df4a799e0798ddb64" ON "product_shipping_profile" ("profile_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_29ede5f867f7fa0fd61916087b" ON "product_shipping_profile" ("product_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_37341bad297fe5cca91f921032" ON "product_sales_channel" ("sales_channel_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_5a4d5e1e60f97633547821ec8d" ON "product_sales_channel" ("product_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_39c0dc44fb08bf8e448fe38be7" ON "publishable_api_key_sales_channel" ("sales_channel_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_6cdfe7acf51033816d94de863b" ON "publishable_api_key_sales_channel" ("publishable_key_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_3f42ca85f6c7b75364ed2e9862" ON "product_variant_money_amount" ("money_amount_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_2d224f11d03e8f7809d7f317b0" ON "product_variant_money_amount" ("variant_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_2484cf14c437a04586b07e7ddd" ON "product_tax_rate" ("rate_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_1d04aebeabb6a89f87e536a124" ON "product_tax_rate" ("product_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_ece65a774192b34253abc4cd67" ON "product_type_tax_rate" ("rate_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_25a3138bb236f63d9bb6c8ff11" ON "product_type_tax_rate" ("product_type_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_346e0016cf045b998074774764" ON "shipping_tax_rate" ("rate_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_f672727ab020df6c50fb64c1a7" ON "shipping_tax_rate" ("shipping_option_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_7f79702e8678103b162a423968" ON "payment_collection_sessions" ("payment_collection_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_f00d25bf199b9a212d93c26249" ON "payment_collection_sessions" ("payment_session_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_a95cfffa38cc5b5b6a91649cf1" ON "payment_collection_payments" ("payment_collection_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_7e1bbc48b8e2b5b9b93b78644f" ON "payment_collection_payments" ("payment_id") `);
        await queryRunner.query(`ALTER TABLE "product_category" ADD CONSTRAINT "FK_da9613eb01460b9c388f70500c9" FOREIGN KEY ("parent_category_id") REFERENCES "product_category"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "return_reason" ADD CONSTRAINT "FK_f633ee140342a719d984c358e26" FOREIGN KEY ("parent_return_reason_id") REFERENCES "return_reason"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "fulfillment" ADD CONSTRAINT "FK_beb35a6de60a6c4f91d5ae57e44" FOREIGN KEY ("provider_id") REFERENCES "fulfillment_provider"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "line_item_tax_line" ADD CONSTRAINT "FK_5077fa54b0d037e984385dfe8ad" FOREIGN KEY ("item_id") REFERENCES "line_item"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "order_edit" ADD CONSTRAINT "FK_231883ff6ec551fdc0730fea005" FOREIGN KEY ("payment_collection_id") REFERENCES "payment_collection"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "line_item" ADD CONSTRAINT "FK_3774fb3259fb5c83a68d342189f" FOREIGN KEY ("order_edit_id") REFERENCES "order_edit"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "sales_channel_location" ADD CONSTRAINT "FK_6caaa358f12ed0b846f00e2dcdb" FOREIGN KEY ("sales_channel_id") REFERENCES "sales_channel"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "draft_order" ADD CONSTRAINT "FK_5bd11d0e2a9628128e2c26fd0a6" FOREIGN KEY ("cart_id") REFERENCES "cart"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "refund" ADD CONSTRAINT "FK_8e116348330845195dc5b1585fc" FOREIGN KEY ("payment_id") REFERENCES "payment"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "product_variant_inventory_item" ADD CONSTRAINT "FK_bf5386e7f2acc460adbf96d6f31" FOREIGN KEY ("variant_id") REFERENCES "product_variant"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "product_option" ADD CONSTRAINT "FK_e634fca34f6b594b87fdbee95f6" FOREIGN KEY ("product_id") REFERENCES "product"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "batch_job" ADD CONSTRAINT "FK_cdf30493ba1c9ef207e1e80c10a" FOREIGN KEY ("created_by") REFERENCES "user"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "discount_condition_customer_group" ADD CONSTRAINT "FK_4d5f98645a67545d8dea42e2eb8" FOREIGN KEY ("customer_group_id") REFERENCES "customer_group"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "discount_condition_customer_group" ADD CONSTRAINT "FK_8486ee16e69013c645d0b8716b6" FOREIGN KEY ("condition_id") REFERENCES "discount_condition"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product" ADD CONSTRAINT "FK_c759f53b2e48e8cfb50638fe4e0" FOREIGN KEY ("product_id") REFERENCES "product"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product" ADD CONSTRAINT "FK_f05132301e95bdab4ba1cf29a24" FOREIGN KEY ("condition_id") REFERENCES "discount_condition"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_collection" ADD CONSTRAINT "FK_a0b05dc4257abe639cb75f8eae2" FOREIGN KEY ("product_collection_id") REFERENCES "product_collection"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_collection" ADD CONSTRAINT "FK_a1c4f9cfb599ad1f0db39cadd5f" FOREIGN KEY ("condition_id") REFERENCES "discount_condition"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_tag" ADD CONSTRAINT "FK_01486cc9dc6b36bf658685535f6" FOREIGN KEY ("product_tag_id") REFERENCES "product_tag"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_tag" ADD CONSTRAINT "FK_fbb2499551ed074526f3ee36241" FOREIGN KEY ("condition_id") REFERENCES "discount_condition"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_type" ADD CONSTRAINT "FK_e706deb68f52ab2756119b9e704" FOREIGN KEY ("product_type_id") REFERENCES "product_type"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_type" ADD CONSTRAINT "FK_6ef23ce0b1d9cf9b5b833e52b9d" FOREIGN KEY ("condition_id") REFERENCES "discount_condition"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "note" ADD CONSTRAINT "FK_665a6b343c55b13e2aba74ef613" FOREIGN KEY ("author_id") REFERENCES "user"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "payment_collection" ADD CONSTRAINT "FK_7b3239a9b6e132100cc19b3ebe9" FOREIGN KEY ("region_id") REFERENCES "region"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "payment_collection" ADD CONSTRAINT "FK_aa9627f942aefe3e731636e58b9" FOREIGN KEY ("currency_code") REFERENCES "currency"("code") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "product_tax_rate" ADD CONSTRAINT "FK_1d04aebeabb6a89f87e536a124d" FOREIGN KEY ("product_id") REFERENCES "product"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "product_tax_rate" ADD CONSTRAINT "FK_2484cf14c437a04586b07e7dddb" FOREIGN KEY ("rate_id") REFERENCES "tax_rate"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "product_type_tax_rate" ADD CONSTRAINT "FK_25a3138bb236f63d9bb6c8ff111" FOREIGN KEY ("product_type_id") REFERENCES "product_type"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "product_type_tax_rate" ADD CONSTRAINT "FK_ece65a774192b34253abc4cd672" FOREIGN KEY ("rate_id") REFERENCES "tax_rate"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "shipping_tax_rate" ADD CONSTRAINT "FK_f672727ab020df6c50fb64c1a70" FOREIGN KEY ("shipping_option_id") REFERENCES "shipping_option"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "shipping_tax_rate" ADD CONSTRAINT "FK_346e0016cf045b9980747747645" FOREIGN KEY ("rate_id") REFERENCES "tax_rate"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "product_category_product" ADD CONSTRAINT "FK_e37baa220ea7386a33adc6b9be7" FOREIGN KEY ("product_category_id") REFERENCES "product_category"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "product_category_product" ADD CONSTRAINT "FK_a26fce7eda0b28f34108deee2b0" FOREIGN KEY ("product_id") REFERENCES "product"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "discount_regions" ADD CONSTRAINT "FK_f4194aa81073f3fab8aa86906ff" FOREIGN KEY ("discount_id") REFERENCES "discount"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "discount_regions" ADD CONSTRAINT "FK_a21a7ffbe420d492eb46c305fec" FOREIGN KEY ("region_id") REFERENCES "region"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "claim_item_tags" ADD CONSTRAINT "FK_c2c0f3edf39515bd15432afe6e5" FOREIGN KEY ("item_id") REFERENCES "claim_item"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "claim_item_tags" ADD CONSTRAINT "FK_dc9bbf9fcb9ba458d25d512811b" FOREIGN KEY ("tag_id") REFERENCES "claim_tag"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" ADD CONSTRAINT "FK_0f12293f7df4a799e0798ddb645" FOREIGN KEY ("profile_id") REFERENCES "shipping_profile"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" ADD CONSTRAINT "FK_29ede5f867f7fa0fd61916087b0" FOREIGN KEY ("product_id") REFERENCES "product"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD CONSTRAINT "FK_37341bad297fe5cca91f921032b" FOREIGN KEY ("sales_channel_id") REFERENCES "sales_channel"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD CONSTRAINT "FK_5a4d5e1e60f97633547821ec8d6" FOREIGN KEY ("product_id") REFERENCES "product"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD CONSTRAINT "FK_39c0dc44fb08bf8e448fe38be7a" FOREIGN KEY ("sales_channel_id") REFERENCES "sales_channel"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD CONSTRAINT "FK_6cdfe7acf51033816d94de863b3" FOREIGN KEY ("publishable_key_id") REFERENCES "publishable_api_key"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "cart_discounts" ADD CONSTRAINT "FK_6680319ebe1f46d18f106191d59" FOREIGN KEY ("cart_id") REFERENCES "cart"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "cart_discounts" ADD CONSTRAINT "FK_8df75ef4f35f217768dc1135458" FOREIGN KEY ("discount_id") REFERENCES "discount"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "cart_gift_cards" ADD CONSTRAINT "FK_d38047a90f3d42f0be7909e8aea" FOREIGN KEY ("cart_id") REFERENCES "cart"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "cart_gift_cards" ADD CONSTRAINT "FK_0fb38b6d167793192bc126d835e" FOREIGN KEY ("gift_card_id") REFERENCES "gift_card"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "order_discounts" ADD CONSTRAINT "FK_e7b488cebe333f449398769b2cc" FOREIGN KEY ("order_id") REFERENCES "order"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "order_discounts" ADD CONSTRAINT "FK_0fc1ec4e3db9001ad60c19daf16" FOREIGN KEY ("discount_id") REFERENCES "discount"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "order_gift_cards" ADD CONSTRAINT "FK_e62ff11e4730bb3adfead979ee2" FOREIGN KEY ("order_id") REFERENCES "order"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "order_gift_cards" ADD CONSTRAINT "FK_f2bb9f71e95b315eb24b2b84cb3" FOREIGN KEY ("gift_card_id") REFERENCES "gift_card"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "customer_group_customers" ADD CONSTRAINT "FK_3c6412d076292f439269abe1a23" FOREIGN KEY ("customer_id") REFERENCES "customer"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD CONSTRAINT "FK_3f42ca85f6c7b75364ed2e98627" FOREIGN KEY ("money_amount_id") REFERENCES "money_amount"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD CONSTRAINT "FK_2d224f11d03e8f7809d7f317b0a" FOREIGN KEY ("variant_id") REFERENCES "product_variant"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "product_images" ADD CONSTRAINT "FK_4f166bb8c2bfcef2498d97b4068" FOREIGN KEY ("product_id") REFERENCES "product"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "product_images" ADD CONSTRAINT "FK_2212515ba306c79f42c46a99db7" FOREIGN KEY ("image_id") REFERENCES "image"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "product_tags" ADD CONSTRAINT "FK_5b0c6fc53c574299ecc7f9ee22e" FOREIGN KEY ("product_id") REFERENCES "product"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "product_tags" ADD CONSTRAINT "FK_21683a063fe82dafdf681ecc9c4" FOREIGN KEY ("product_tag_id") REFERENCES "product_tag"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "region_payment_providers" ADD CONSTRAINT "FK_8aaa78ba90d3802edac317df869" FOREIGN KEY ("region_id") REFERENCES "region"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "region_payment_providers" ADD CONSTRAINT "FK_3a6947180aeec283cd92c59ebb0" FOREIGN KEY ("provider_id") REFERENCES "payment_provider"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "region_fulfillment_providers" ADD CONSTRAINT "FK_c556e14eff4d6f03db593df955e" FOREIGN KEY ("region_id") REFERENCES "region"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "region_fulfillment_providers" ADD CONSTRAINT "FK_37f361c38a18d12a3fa3158d0cf" FOREIGN KEY ("provider_id") REFERENCES "fulfillment_provider"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "payment_collection_sessions" ADD CONSTRAINT "FK_7f79702e8678103b162a4239684" FOREIGN KEY ("payment_collection_id") REFERENCES "payment_collection"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "payment_collection_sessions" ADD CONSTRAINT "FK_f00d25bf199b9a212d93c262499" FOREIGN KEY ("payment_session_id") REFERENCES "payment_session"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "payment_collection_payments" ADD CONSTRAINT "FK_a95cfffa38cc5b5b6a91649cf14" FOREIGN KEY ("payment_collection_id") REFERENCES "payment_collection"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "payment_collection_payments" ADD CONSTRAINT "FK_7e1bbc48b8e2b5b9b93b78644f0" FOREIGN KEY ("payment_id") REFERENCES "payment"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "store_currencies" ADD CONSTRAINT "FK_b4f4b63d1736689b7008980394c" FOREIGN KEY ("store_id") REFERENCES "store"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "store_currencies" ADD CONSTRAINT "FK_82a6bbb0b527c20a0002ddcbd60" FOREIGN KEY ("currency_code") REFERENCES "currency"("code") ON DELETE CASCADE ON UPDATE CASCADE`);
    }

    public async down(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`ALTER TABLE "store_currencies" DROP CONSTRAINT "FK_82a6bbb0b527c20a0002ddcbd60"`);
        await queryRunner.query(`ALTER TABLE "store_currencies" DROP CONSTRAINT "FK_b4f4b63d1736689b7008980394c"`);
        await queryRunner.query(`ALTER TABLE "payment_collection_payments" DROP CONSTRAINT "FK_7e1bbc48b8e2b5b9b93b78644f0"`);
        await queryRunner.query(`ALTER TABLE "payment_collection_payments" DROP CONSTRAINT "FK_a95cfffa38cc5b5b6a91649cf14"`);
        await queryRunner.query(`ALTER TABLE "payment_collection_sessions" DROP CONSTRAINT "FK_f00d25bf199b9a212d93c262499"`);
        await queryRunner.query(`ALTER TABLE "payment_collection_sessions" DROP CONSTRAINT "FK_7f79702e8678103b162a4239684"`);
        await queryRunner.query(`ALTER TABLE "region_fulfillment_providers" DROP CONSTRAINT "FK_37f361c38a18d12a3fa3158d0cf"`);
        await queryRunner.query(`ALTER TABLE "region_fulfillment_providers" DROP CONSTRAINT "FK_c556e14eff4d6f03db593df955e"`);
        await queryRunner.query(`ALTER TABLE "region_payment_providers" DROP CONSTRAINT "FK_3a6947180aeec283cd92c59ebb0"`);
        await queryRunner.query(`ALTER TABLE "region_payment_providers" DROP CONSTRAINT "FK_8aaa78ba90d3802edac317df869"`);
        await queryRunner.query(`ALTER TABLE "product_tags" DROP CONSTRAINT "FK_21683a063fe82dafdf681ecc9c4"`);
        await queryRunner.query(`ALTER TABLE "product_tags" DROP CONSTRAINT "FK_5b0c6fc53c574299ecc7f9ee22e"`);
        await queryRunner.query(`ALTER TABLE "product_images" DROP CONSTRAINT "FK_2212515ba306c79f42c46a99db7"`);
        await queryRunner.query(`ALTER TABLE "product_images" DROP CONSTRAINT "FK_4f166bb8c2bfcef2498d97b4068"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP CONSTRAINT "FK_2d224f11d03e8f7809d7f317b0a"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP CONSTRAINT "FK_3f42ca85f6c7b75364ed2e98627"`);
        await queryRunner.query(`ALTER TABLE "customer_group_customers" DROP CONSTRAINT "FK_3c6412d076292f439269abe1a23"`);
        await queryRunner.query(`ALTER TABLE "order_gift_cards" DROP CONSTRAINT "FK_f2bb9f71e95b315eb24b2b84cb3"`);
        await queryRunner.query(`ALTER TABLE "order_gift_cards" DROP CONSTRAINT "FK_e62ff11e4730bb3adfead979ee2"`);
        await queryRunner.query(`ALTER TABLE "order_discounts" DROP CONSTRAINT "FK_0fc1ec4e3db9001ad60c19daf16"`);
        await queryRunner.query(`ALTER TABLE "order_discounts" DROP CONSTRAINT "FK_e7b488cebe333f449398769b2cc"`);
        await queryRunner.query(`ALTER TABLE "cart_gift_cards" DROP CONSTRAINT "FK_0fb38b6d167793192bc126d835e"`);
        await queryRunner.query(`ALTER TABLE "cart_gift_cards" DROP CONSTRAINT "FK_d38047a90f3d42f0be7909e8aea"`);
        await queryRunner.query(`ALTER TABLE "cart_discounts" DROP CONSTRAINT "FK_8df75ef4f35f217768dc1135458"`);
        await queryRunner.query(`ALTER TABLE "cart_discounts" DROP CONSTRAINT "FK_6680319ebe1f46d18f106191d59"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP CONSTRAINT "FK_6cdfe7acf51033816d94de863b3"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP CONSTRAINT "FK_39c0dc44fb08bf8e448fe38be7a"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP CONSTRAINT "FK_5a4d5e1e60f97633547821ec8d6"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP CONSTRAINT "FK_37341bad297fe5cca91f921032b"`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" DROP CONSTRAINT "FK_29ede5f867f7fa0fd61916087b0"`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" DROP CONSTRAINT "FK_0f12293f7df4a799e0798ddb645"`);
        await queryRunner.query(`ALTER TABLE "claim_item_tags" DROP CONSTRAINT "FK_dc9bbf9fcb9ba458d25d512811b"`);
        await queryRunner.query(`ALTER TABLE "claim_item_tags" DROP CONSTRAINT "FK_c2c0f3edf39515bd15432afe6e5"`);
        await queryRunner.query(`ALTER TABLE "discount_regions" DROP CONSTRAINT "FK_a21a7ffbe420d492eb46c305fec"`);
        await queryRunner.query(`ALTER TABLE "discount_regions" DROP CONSTRAINT "FK_f4194aa81073f3fab8aa86906ff"`);
        await queryRunner.query(`ALTER TABLE "product_category_product" DROP CONSTRAINT "FK_a26fce7eda0b28f34108deee2b0"`);
        await queryRunner.query(`ALTER TABLE "product_category_product" DROP CONSTRAINT "FK_e37baa220ea7386a33adc6b9be7"`);
        await queryRunner.query(`ALTER TABLE "shipping_tax_rate" DROP CONSTRAINT "FK_346e0016cf045b9980747747645"`);
        await queryRunner.query(`ALTER TABLE "shipping_tax_rate" DROP CONSTRAINT "FK_f672727ab020df6c50fb64c1a70"`);
        await queryRunner.query(`ALTER TABLE "product_type_tax_rate" DROP CONSTRAINT "FK_ece65a774192b34253abc4cd672"`);
        await queryRunner.query(`ALTER TABLE "product_type_tax_rate" DROP CONSTRAINT "FK_25a3138bb236f63d9bb6c8ff111"`);
        await queryRunner.query(`ALTER TABLE "product_tax_rate" DROP CONSTRAINT "FK_2484cf14c437a04586b07e7dddb"`);
        await queryRunner.query(`ALTER TABLE "product_tax_rate" DROP CONSTRAINT "FK_1d04aebeabb6a89f87e536a124d"`);
        await queryRunner.query(`ALTER TABLE "payment_collection" DROP CONSTRAINT "FK_aa9627f942aefe3e731636e58b9"`);
        await queryRunner.query(`ALTER TABLE "payment_collection" DROP CONSTRAINT "FK_7b3239a9b6e132100cc19b3ebe9"`);
        await queryRunner.query(`ALTER TABLE "note" DROP CONSTRAINT "FK_665a6b343c55b13e2aba74ef613"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_type" DROP CONSTRAINT "FK_6ef23ce0b1d9cf9b5b833e52b9d"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_type" DROP CONSTRAINT "FK_e706deb68f52ab2756119b9e704"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_tag" DROP CONSTRAINT "FK_fbb2499551ed074526f3ee36241"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_tag" DROP CONSTRAINT "FK_01486cc9dc6b36bf658685535f6"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_collection" DROP CONSTRAINT "FK_a1c4f9cfb599ad1f0db39cadd5f"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_collection" DROP CONSTRAINT "FK_a0b05dc4257abe639cb75f8eae2"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product" DROP CONSTRAINT "FK_f05132301e95bdab4ba1cf29a24"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product" DROP CONSTRAINT "FK_c759f53b2e48e8cfb50638fe4e0"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_customer_group" DROP CONSTRAINT "FK_8486ee16e69013c645d0b8716b6"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_customer_group" DROP CONSTRAINT "FK_4d5f98645a67545d8dea42e2eb8"`);
        await queryRunner.query(`ALTER TABLE "batch_job" DROP CONSTRAINT "FK_cdf30493ba1c9ef207e1e80c10a"`);
        await queryRunner.query(`ALTER TABLE "product_option" DROP CONSTRAINT "FK_e634fca34f6b594b87fdbee95f6"`);
        await queryRunner.query(`ALTER TABLE "product_variant_inventory_item" DROP CONSTRAINT "FK_bf5386e7f2acc460adbf96d6f31"`);
        await queryRunner.query(`ALTER TABLE "refund" DROP CONSTRAINT "FK_8e116348330845195dc5b1585fc"`);
        await queryRunner.query(`ALTER TABLE "draft_order" DROP CONSTRAINT "FK_5bd11d0e2a9628128e2c26fd0a6"`);
        await queryRunner.query(`ALTER TABLE "sales_channel_location" DROP CONSTRAINT "FK_6caaa358f12ed0b846f00e2dcdb"`);
        await queryRunner.query(`ALTER TABLE "line_item" DROP CONSTRAINT "FK_3774fb3259fb5c83a68d342189f"`);
        await queryRunner.query(`ALTER TABLE "order_edit" DROP CONSTRAINT "FK_231883ff6ec551fdc0730fea005"`);
        await queryRunner.query(`ALTER TABLE "line_item_tax_line" DROP CONSTRAINT "FK_5077fa54b0d037e984385dfe8ad"`);
        await queryRunner.query(`ALTER TABLE "fulfillment" DROP CONSTRAINT "FK_beb35a6de60a6c4f91d5ae57e44"`);
        await queryRunner.query(`ALTER TABLE "return_reason" DROP CONSTRAINT "FK_f633ee140342a719d984c358e26"`);
        await queryRunner.query(`ALTER TABLE "product_category" DROP CONSTRAINT "FK_da9613eb01460b9c388f70500c9"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_7e1bbc48b8e2b5b9b93b78644f"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_a95cfffa38cc5b5b6a91649cf1"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_f00d25bf199b9a212d93c26249"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_7f79702e8678103b162a423968"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_f672727ab020df6c50fb64c1a7"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_346e0016cf045b998074774764"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_25a3138bb236f63d9bb6c8ff11"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_ece65a774192b34253abc4cd67"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_1d04aebeabb6a89f87e536a124"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_2484cf14c437a04586b07e7ddd"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_2d224f11d03e8f7809d7f317b0"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_3f42ca85f6c7b75364ed2e9862"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_6cdfe7acf51033816d94de863b"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_39c0dc44fb08bf8e448fe38be7"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_5a4d5e1e60f97633547821ec8d"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_37341bad297fe5cca91f921032"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_29ede5f867f7fa0fd61916087b"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_0f12293f7df4a799e0798ddb64"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_4d5f98645a67545d8dea42e2eb"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_8486ee16e69013c645d0b8716b"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_a0b05dc4257abe639cb75f8eae"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_a1c4f9cfb599ad1f0db39cadd5"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_01486cc9dc6b36bf658685535f"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_fbb2499551ed074526f3ee3624"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_e706deb68f52ab2756119b9e70"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_6ef23ce0b1d9cf9b5b833e52b9"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_c759f53b2e48e8cfb50638fe4e"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_f05132301e95bdab4ba1cf29a2"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_a26fce7eda0b28f34108deee2b"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_e37baa220ea7386a33adc6b9be"`);
        await queryRunner.query(`DROP INDEX "public"."idx_product_variant_money_amount_variant_id"`);
        await queryRunner.query(`DROP INDEX "public"."idx_product_variant_money_amount_money_amount_id_unique"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_aa9627f942aefe3e731636e58b"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_7b3239a9b6e132100cc19b3ebe"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_7336c32a3cb614d8fb0810741a"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_3bdd5896ec93be2f1c62a3309a"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_cf9cc6c3f2e6414b992223fff1"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_aa16f61348be02dd07ce3fc54e"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_b5b6225539ee8501082fbc0714"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_045d4a149c09f4704e0bc08dd4"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_2ca8cfbdafb998ecfd6d340389"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_bf5386e7f2acc460adbf96d6f3"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_c74e8c2835094a37dead376a3b"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_e15811f81339e4bd8c440aebe1"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_12ce6a19940881688284fef871"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_fdb2f3ad8115da4c7718109a6e"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_717a141f96b76d794d409f3812"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_8e116348330845195dc5b1585f"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_c2203162ca946a71aeb98390b0"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_6caaa358f12ed0b846f00e2dcd"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_231883ff6ec551fdc0730fea00"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_1f3a251488a91510f57e1bf93c"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_39967e9bdc127386b644a11c40"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_88340a898eba379aae1e13da3a"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_f41553459a4b1491c9893ebc92"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_f5c54f4761791d85de8c2b5cb1"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_e56706bd5cd6e64178de7a3ea6"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP CONSTRAINT "PK_acc7faece57e3a7c10fbb57dd81"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD CONSTRAINT "PK_1d982b710b027f1ede49a3738ff" PRIMARY KEY ("id", "money_amount_id")`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP CONSTRAINT "PK_1d982b710b027f1ede49a3738ff"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD CONSTRAINT "PK_57626b0cfe8fd2d8dfc85d8d7ea" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP CONSTRAINT "PK_d159a0706b36a52b67becd7801f"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD CONSTRAINT "PK_6fb3ef7420f29de8010268d8d4a" PRIMARY KEY ("id", "sales_channel_id")`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP COLUMN "publishable_key_id"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD "publishable_key_id" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP CONSTRAINT "PK_6fb3ef7420f29de8010268d8d4a"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD CONSTRAINT "PK_d159a0706b36a52b67becd7801f" PRIMARY KEY ("id", "publishable_key_id", "sales_channel_id")`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP CONSTRAINT "PK_d159a0706b36a52b67becd7801f"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD CONSTRAINT "PK_09b30f059f07cdfa279a365e11b" PRIMARY KEY ("id", "publishable_key_id")`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP COLUMN "sales_channel_id"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD "sales_channel_id" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP CONSTRAINT "PK_09b30f059f07cdfa279a365e11b"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD CONSTRAINT "PK_d159a0706b36a52b67becd7801f" PRIMARY KEY ("id", "sales_channel_id", "publishable_key_id")`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP CONSTRAINT "PK_b069f21846e11415dfc7f8919eb"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD CONSTRAINT "PK_40f821f70cbf63eea8157498539" PRIMARY KEY ("id", "sales_channel_id")`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP COLUMN "product_id"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD "product_id" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP CONSTRAINT "PK_40f821f70cbf63eea8157498539"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD CONSTRAINT "PK_d6cdf8c0ae6464fd06cf07e18d0" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP COLUMN "sales_channel_id"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD "sales_channel_id" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" DROP CONSTRAINT "PK_b473298fff77f25bebe4e0fa71f"`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" ADD CONSTRAINT "PK_0f12293f7df4a799e0798ddb645" PRIMARY KEY ("profile_id")`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" DROP COLUMN "product_id"`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" ADD "product_id" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" DROP CONSTRAINT "PK_0f12293f7df4a799e0798ddb645"`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" ADD CONSTRAINT "PK_b473298fff77f25bebe4e0fa71f" PRIMARY KEY ("product_id", "profile_id")`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" DROP CONSTRAINT "PK_b473298fff77f25bebe4e0fa71f"`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" ADD CONSTRAINT "PK_29ede5f867f7fa0fd61916087b0" PRIMARY KEY ("product_id")`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" DROP COLUMN "profile_id"`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" ADD "profile_id" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" DROP CONSTRAINT "PK_29ede5f867f7fa0fd61916087b0"`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" ADD CONSTRAINT "PK_b473298fff77f25bebe4e0fa71f" PRIMARY KEY ("profile_id", "product_id")`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP COLUMN "product_id"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD "product_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP CONSTRAINT "PK_d6cdf8c0ae6464fd06cf07e18d0"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD CONSTRAINT "PK_8c236af2b686c004eb88b2f5765" PRIMARY KEY ("product_id", "id")`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP COLUMN "sales_channel_id"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD "sales_channel_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP CONSTRAINT "PK_8c236af2b686c004eb88b2f5765"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD CONSTRAINT "PK_b069f21846e11415dfc7f8919eb" PRIMARY KEY ("product_id", "sales_channel_id", "id")`);
        await queryRunner.query(`ALTER TABLE "store" DROP COLUMN "invite_link_template"`);
        await queryRunner.query(`ALTER TABLE "store" ADD "invite_link_template" character varying`);
        await queryRunner.query(`ALTER TABLE "store" DROP COLUMN "payment_link_template"`);
        await queryRunner.query(`ALTER TABLE "store" ADD "payment_link_template" character varying`);
        await queryRunner.query(`ALTER TABLE "store" DROP COLUMN "swap_link_template"`);
        await queryRunner.query(`ALTER TABLE "store" ADD "swap_link_template" character varying`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP CONSTRAINT "PK_d159a0706b36a52b67becd7801f"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD CONSTRAINT "PK_6fb3ef7420f29de8010268d8d4a" PRIMARY KEY ("id", "sales_channel_id")`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP COLUMN "publishable_key_id"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD "publishable_key_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP CONSTRAINT "PK_6fb3ef7420f29de8010268d8d4a"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD CONSTRAINT "PK_d159a0706b36a52b67becd7801f" PRIMARY KEY ("publishable_key_id", "id", "sales_channel_id")`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP CONSTRAINT "PK_d159a0706b36a52b67becd7801f"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD CONSTRAINT "PK_09b30f059f07cdfa279a365e11b" PRIMARY KEY ("publishable_key_id", "id")`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP COLUMN "sales_channel_id"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD "sales_channel_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP CONSTRAINT "PK_09b30f059f07cdfa279a365e11b"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD CONSTRAINT "PK_d159a0706b36a52b67becd7801f" PRIMARY KEY ("sales_channel_id", "publishable_key_id", "id")`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP COLUMN "variant_id"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD "variant_id" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP CONSTRAINT "PK_57626b0cfe8fd2d8dfc85d8d7ea"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD CONSTRAINT "PK_63b73243e1cb949ca9452290aa5" PRIMARY KEY ("variant_id", "id")`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP COLUMN "money_amount_id"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD "money_amount_id" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP CONSTRAINT "PK_63b73243e1cb949ca9452290aa5"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD CONSTRAINT "PK_acc7faece57e3a7c10fbb57dd81" PRIMARY KEY ("money_amount_id", "variant_id", "id")`);
        await queryRunner.query(`ALTER TABLE "payment_collection" ALTER COLUMN "metadata" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "payment_collection" DROP COLUMN "description"`);
        await queryRunner.query(`ALTER TABLE "payment_collection" ADD "description" text`);
        await queryRunner.query(`CREATE TYPE "public"."PAYMENT_COLLECTION_STATUS_ENUM_old" AS ENUM('not_paid', 'awaiting', 'authorized', 'partially_authorized', 'canceled')`);
        await queryRunner.query(`ALTER TABLE "payment_collection" ALTER COLUMN "status" TYPE "public"."PAYMENT_COLLECTION_STATUS_ENUM_old" USING "status"::"text"::"public"."PAYMENT_COLLECTION_STATUS_ENUM_old"`);
        await queryRunner.query(`DROP TYPE "public"."payment_collection_status_enum"`);
        await queryRunner.query(`ALTER TYPE "public"."PAYMENT_COLLECTION_STATUS_ENUM_old" RENAME TO "PAYMENT_COLLECTION_STATUS_ENUM"`);
        await queryRunner.query(`CREATE TYPE "public"."PAYMENT_COLLECTION_TYPE_ENUM_old" AS ENUM('order_edit')`);
        await queryRunner.query(`ALTER TABLE "payment_collection" ALTER COLUMN "type" TYPE "public"."PAYMENT_COLLECTION_TYPE_ENUM_old" USING "type"::"text"::"public"."PAYMENT_COLLECTION_TYPE_ENUM_old"`);
        await queryRunner.query(`DROP TYPE "public"."payment_collection_type_enum"`);
        await queryRunner.query(`ALTER TYPE "public"."PAYMENT_COLLECTION_TYPE_ENUM_old" RENAME TO "PAYMENT_COLLECTION_TYPE_ENUM"`);
        await queryRunner.query(`ALTER TABLE "product" DROP COLUMN "external_id"`);
        await queryRunner.query(`ALTER TABLE "product" ADD "external_id" character varying`);
        await queryRunner.query(`ALTER TABLE "product" DROP COLUMN "material"`);
        await queryRunner.query(`ALTER TABLE "product" ADD "material" character varying`);
        await queryRunner.query(`ALTER TABLE "product" DROP COLUMN "mid_code"`);
        await queryRunner.query(`ALTER TABLE "product" ADD "mid_code" character varying`);
        await queryRunner.query(`ALTER TABLE "product" DROP COLUMN "origin_country"`);
        await queryRunner.query(`ALTER TABLE "product" ADD "origin_country" character varying`);
        await queryRunner.query(`ALTER TABLE "product" DROP COLUMN "hs_code"`);
        await queryRunner.query(`ALTER TABLE "product" ADD "hs_code" character varying`);
        await queryRunner.query(`ALTER TABLE "product" DROP COLUMN "thumbnail"`);
        await queryRunner.query(`ALTER TABLE "product" ADD "thumbnail" character varying`);
        await queryRunner.query(`ALTER TABLE "product" DROP COLUMN "handle"`);
        await queryRunner.query(`ALTER TABLE "product" ADD "handle" character varying`);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_cf9cc6c3f2e6414b992223fff1" ON "product" ("handle") WHERE (deleted_at IS NULL)`);
        await queryRunner.query(`ALTER TABLE "product" DROP COLUMN "description"`);
        await queryRunner.query(`ALTER TABLE "product" ADD "description" character varying`);
        await queryRunner.query(`ALTER TABLE "product" DROP COLUMN "subtitle"`);
        await queryRunner.query(`ALTER TABLE "product" ADD "subtitle" character varying`);
        await queryRunner.query(`ALTER TABLE "product_option" ALTER COLUMN "product_id" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_option" ADD CONSTRAINT "FK_e634fca34f6b594b87fdbee95f6" FOREIGN KEY ("product_id") REFERENCES "product"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "product_variant" DROP COLUMN "material"`);
        await queryRunner.query(`ALTER TABLE "product_variant" ADD "material" character varying`);
        await queryRunner.query(`ALTER TABLE "product_variant" DROP COLUMN "mid_code"`);
        await queryRunner.query(`ALTER TABLE "product_variant" ADD "mid_code" character varying`);
        await queryRunner.query(`ALTER TABLE "product_variant" DROP COLUMN "origin_country"`);
        await queryRunner.query(`ALTER TABLE "product_variant" ADD "origin_country" character varying`);
        await queryRunner.query(`ALTER TABLE "product_variant" DROP COLUMN "hs_code"`);
        await queryRunner.query(`ALTER TABLE "product_variant" ADD "hs_code" character varying`);
        await queryRunner.query(`ALTER TABLE "product_variant" DROP COLUMN "variant_rank"`);
        await queryRunner.query(`ALTER TABLE "product_variant" ADD "variant_rank" integer DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "product_variant" DROP COLUMN "upc"`);
        await queryRunner.query(`ALTER TABLE "product_variant" ADD "upc" character varying`);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_aa16f61348be02dd07ce3fc54e" ON "product_variant" ("upc") WHERE (deleted_at IS NULL)`);
        await queryRunner.query(`ALTER TABLE "product_variant" DROP COLUMN "ean"`);
        await queryRunner.query(`ALTER TABLE "product_variant" ADD "ean" character varying`);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_b5b6225539ee8501082fbc0714" ON "product_variant" ("ean") WHERE (deleted_at IS NULL)`);
        await queryRunner.query(`ALTER TABLE "product_variant" DROP COLUMN "barcode"`);
        await queryRunner.query(`ALTER TABLE "product_variant" ADD "barcode" character varying`);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_045d4a149c09f4704e0bc08dd4" ON "product_variant" ("barcode") WHERE (deleted_at IS NULL)`);
        await queryRunner.query(`ALTER TABLE "product_variant" DROP COLUMN "sku"`);
        await queryRunner.query(`ALTER TABLE "product_variant" ADD "sku" character varying`);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_2ca8cfbdafb998ecfd6d340389" ON "product_variant" ("sku") WHERE (deleted_at IS NULL)`);
        await queryRunner.query(`ALTER TABLE "product_variant_inventory_item" DROP COLUMN "variant_id"`);
        await queryRunner.query(`ALTER TABLE "product_variant_inventory_item" ADD "variant_id" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "refund" DROP CONSTRAINT "UQ_8e116348330845195dc5b1585fc"`);
        await queryRunner.query(`ALTER TABLE "sales_channel_location" DROP COLUMN "sales_channel_id"`);
        await queryRunner.query(`ALTER TABLE "sales_channel_location" ADD "sales_channel_id" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "line_item" DROP COLUMN "thumbnail"`);
        await queryRunner.query(`ALTER TABLE "line_item" ADD "thumbnail" character varying`);
        await queryRunner.query(`ALTER TABLE "line_item" DROP COLUMN "description"`);
        await queryRunner.query(`ALTER TABLE "line_item" ADD "description" character varying`);
        await queryRunner.query(`ALTER TABLE "order_edit" DROP CONSTRAINT "UQ_231883ff6ec551fdc0730fea005"`);
        await queryRunner.query(`ALTER TABLE "fulfillment" DROP COLUMN "location_id"`);
        await queryRunner.query(`ALTER TABLE "fulfillment" ADD "location_id" character varying`);
        await queryRunner.query(`ALTER TABLE "fulfillment" ALTER COLUMN "provider_id" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "fulfillment" ADD CONSTRAINT "FK_beb35a6de60a6c4f91d5ae57e44" FOREIGN KEY ("provider_id") REFERENCES "fulfillment_provider"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "return" DROP COLUMN "idempotency_key"`);
        await queryRunner.query(`ALTER TABLE "return" ADD "idempotency_key" character varying`);
        await queryRunner.query(`ALTER TABLE "return" DROP COLUMN "location_id"`);
        await queryRunner.query(`ALTER TABLE "return" ADD "location_id" character varying`);
        await queryRunner.query(`ALTER TABLE "discount" ALTER COLUMN "starts_at" SET DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "product_category" DROP COLUMN "mpath"`);
        await queryRunner.query(`ALTER TABLE "product_category" ADD "mpath" text`);
        await queryRunner.query(`ALTER TABLE "product_category" ALTER COLUMN "parent_category_id" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_category" ALTER COLUMN "is_internal" SET DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "product_category" ALTER COLUMN "is_internal" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_category" ALTER COLUMN "is_active" SET DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "product_category" ALTER COLUMN "is_active" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_category" DROP COLUMN "handle"`);
        await queryRunner.query(`ALTER TABLE "product_category" ADD "handle" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_category" DROP COLUMN "description"`);
        await queryRunner.query(`ALTER TABLE "product_category" ADD "description" text NOT NULL DEFAULT ''`);
        await queryRunner.query(`ALTER TABLE "product_category" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "product_category" ADD "name" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP CONSTRAINT "PK_dd69c52f1f393d7a451200e82f7"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD CONSTRAINT "PK_acc7faece57e3a7c10fbb57dd81" PRIMARY KEY ("money_amount_id", "variant_id", "id")`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP CONSTRAINT "PK_dd69c52f1f393d7a451200e82f7"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD CONSTRAINT "PK_57626b0cfe8fd2d8dfc85d8d7ea" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP CONSTRAINT "PK_68eaeb14bdac8954460054c567c"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD CONSTRAINT "PK_d159a0706b36a52b67becd7801f" PRIMARY KEY ("sales_channel_id", "publishable_key_id", "id")`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP CONSTRAINT "PK_fd29b6a8bd641052628dee19583"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD CONSTRAINT "PK_b069f21846e11415dfc7f8919eb" PRIMARY KEY ("product_id", "sales_channel_id", "id")`);
        await queryRunner.query(`ALTER TABLE "product_shipping_profile" DROP CONSTRAINT "PK_b473298fff77f25bebe4e0fa71f"`);
        await queryRunner.query(`ALTER TABLE "product_category_product" DROP CONSTRAINT "PK_d3d6dadb64d3d4ee0eff4ecf27c"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP CONSTRAINT "PK_b069f21846e11415dfc7f8919eb"`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD CONSTRAINT "PK_fd29b6a8bd641052628dee19583" PRIMARY KEY ("product_id", "sales_channel_id")`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "customer" DROP COLUMN "affiliate_status"`);
        await queryRunner.query(`ALTER TABLE "customer" DROP COLUMN "commission"`);
        await queryRunner.query(`ALTER TABLE "customer" DROP COLUMN "total_sales"`);
        await queryRunner.query(`ALTER TABLE "customer" DROP COLUMN "affiliate_code"`);
        await queryRunner.query(`ALTER TABLE "order" DROP COLUMN "commission_rate"`);
        await queryRunner.query(`ALTER TABLE "order" DROP COLUMN "commission"`);
        await queryRunner.query(`ALTER TABLE "order" DROP COLUMN "code_used"`);
        await queryRunner.query(`ALTER TABLE "shipping_tax_rate" DROP COLUMN "metadata"`);
        await queryRunner.query(`ALTER TABLE "shipping_tax_rate" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "shipping_tax_rate" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP CONSTRAINT "PK_d159a0706b36a52b67becd7801f"`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD CONSTRAINT "PK_68eaeb14bdac8954460054c567c" PRIMARY KEY ("sales_channel_id", "publishable_key_id")`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP CONSTRAINT "PK_57626b0cfe8fd2d8dfc85d8d7ea"`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "product_type_tax_rate" DROP COLUMN "metadata"`);
        await queryRunner.query(`ALTER TABLE "product_type_tax_rate" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "product_type_tax_rate" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "product_tax_rate" DROP COLUMN "metadata"`);
        await queryRunner.query(`ALTER TABLE "product_tax_rate" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "product_tax_rate" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_type" DROP COLUMN "metadata"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_type" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_type" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_tag" DROP COLUMN "metadata"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_tag" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_tag" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_collection" DROP COLUMN "metadata"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_collection" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_collection" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product" DROP COLUMN "metadata"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_customer_group" DROP COLUMN "metadata"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_customer_group" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "discount_condition_customer_group" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "shipping_tax_rate" ADD "metadata" jsonb`);
        await queryRunner.query(`ALTER TABLE "shipping_tax_rate" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "shipping_tax_rate" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "product_type_tax_rate" ADD "metadata" jsonb`);
        await queryRunner.query(`ALTER TABLE "product_type_tax_rate" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "product_type_tax_rate" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "product_tax_rate" ADD "metadata" jsonb`);
        await queryRunner.query(`ALTER TABLE "product_tax_rate" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "product_tax_rate" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD "id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD CONSTRAINT "PK_product_variant_money_amount" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "product_variant_money_amount" ADD "deleted_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD "id" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "discount_condition_customer_group" ADD "metadata" jsonb`);
        await queryRunner.query(`ALTER TABLE "discount_condition_customer_group" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "discount_condition_customer_group" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_collection" ADD "metadata" jsonb`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_collection" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_collection" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_tag" ADD "metadata" jsonb`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_tag" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_tag" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_type" ADD "metadata" jsonb`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_type" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_type" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product" ADD "metadata" jsonb`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "store" ADD "default_sales_channel_id" character varying`);
        await queryRunner.query(`ALTER TABLE "store" ADD CONSTRAINT "UQ_61b0f48cccbb5f41c750bac7286" UNIQUE ("default_sales_channel_id")`);
        await queryRunner.query(`ALTER TABLE "publishable_api_key_sales_channel" ADD "deleted_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "order" ADD "sales_channel_id" character varying`);
        await queryRunner.query(`ALTER TABLE "cart" ADD "sales_channel_id" character varying`);
        await queryRunner.query(`DROP INDEX "public"."order_sales_channel_order_id_unique"`);
        await queryRunner.query(`DROP TABLE "order_sales_channel"`);
        await queryRunner.query(`DROP TABLE "affiliate_log"`);
        await queryRunner.query(`ALTER TABLE "product_variant_inventory_item" ADD CONSTRAINT "UQ_c9be7c1b11a1a729eb51d1b6bca" UNIQUE ("inventory_item_id", "variant_id")`);
        await queryRunner.query(`ALTER TABLE "product_category" ADD CONSTRAINT "product_category_rank_check" CHECK ((rank >= 0))`);
        await queryRunner.query(`CREATE INDEX "IDX_payment_collection_payments_payment_id" ON "payment_collection_payments" ("payment_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_payment_collection_payments_payment_collection_id" ON "payment_collection_payments" ("payment_collection_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_payment_collection_sessions_payment_session_id" ON "payment_collection_sessions" ("payment_session_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_payment_collection_sessions_payment_collection_id" ON "payment_collection_sessions" ("payment_collection_id") `);
        await queryRunner.query(`CREATE INDEX "idx_product_variant_money_amount_variant_id" ON "product_variant_money_amount" ("variant_id") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "idx_product_variant_money_amount_money_amount_id_unique" ON "product_variant_money_amount" ("money_amount_id") `);
        await queryRunner.query(`CREATE INDEX "idx_product_shipping_profile_profile_id" ON "product_shipping_profile" ("profile_id") `);
        await queryRunner.query(`CREATE INDEX "idx_product_shipping_profile_product_id" ON "product_shipping_profile" ("product_id") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "idx_product_shipping_profile_profile_id_product_id_unique" ON "product_shipping_profile" ("profile_id", "product_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_pcp_product_id" ON "product_category_product" ("product_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_pcp_product_category_id" ON "product_category_product" ("product_category_id") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_upcp_product_id_product_category_id" ON "product_category_product" ("product_category_id", "product_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_37341bad297fe5cca91f921032" ON "product_sales_channel" ("sales_channel_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_5a4d5e1e60f97633547821ec8d" ON "product_sales_channel" ("product_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_f672727ab020df6c50fb64c1a7" ON "shipping_tax_rate" ("shipping_option_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_346e0016cf045b998074774764" ON "shipping_tax_rate" ("rate_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_id_publishable_api_key_sales_channel" ON "publishable_api_key_sales_channel" ("id") `);
        await queryRunner.query(`CREATE INDEX "IDX_25a3138bb236f63d9bb6c8ff11" ON "product_type_tax_rate" ("product_type_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_ece65a774192b34253abc4cd67" ON "product_type_tax_rate" ("rate_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_1d04aebeabb6a89f87e536a124" ON "product_tax_rate" ("product_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_2484cf14c437a04586b07e7ddd" ON "product_tax_rate" ("rate_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_payment_collection_currency_code" ON "payment_collection" ("currency_code") WHERE (deleted_at IS NULL)`);
        await queryRunner.query(`CREATE INDEX "IDX_payment_collection_region_id" ON "payment_collection" ("region_id") WHERE (deleted_at IS NULL)`);
        await queryRunner.query(`CREATE INDEX "IDX_e706deb68f52ab2756119b9e70" ON "discount_condition_product_type" ("product_type_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_6ef23ce0b1d9cf9b5b833e52b9" ON "discount_condition_product_type" ("condition_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_01486cc9dc6b36bf658685535f" ON "discount_condition_product_tag" ("product_tag_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_fbb2499551ed074526f3ee3624" ON "discount_condition_product_tag" ("condition_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_a0b05dc4257abe639cb75f8eae" ON "discount_condition_product_collection" ("product_collection_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_a1c4f9cfb599ad1f0db39cadd5" ON "discount_condition_product_collection" ("condition_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_c759f53b2e48e8cfb50638fe4e" ON "discount_condition_product" ("product_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_f05132301e95bdab4ba1cf29a2" ON "discount_condition_product" ("condition_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_4d5f98645a67545d8dea42e2eb" ON "discount_condition_customer_group" ("customer_group_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_8486ee16e69013c645d0b8716b" ON "discount_condition_customer_group" ("condition_id") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_379ca70338ce9991f3affdeedf" ON "analytics_config" ("id", "user_id") WHERE (deleted_at IS NULL)`);
        await queryRunner.query(`CREATE INDEX "IDX_region_currency_code" ON "region" ("currency_code") `);
        await queryRunner.query(`CREATE INDEX "idx_gin_product_description" ON "product" ("description") WHERE (deleted_at IS NULL)`);
        await queryRunner.query(`CREATE INDEX "idx_gin_product_title" ON "product" ("title") WHERE (deleted_at IS NULL)`);
        await queryRunner.query(`CREATE INDEX "idx_gin_product_variant_sku" ON "product_variant" ("sku") WHERE (deleted_at IS NULL)`);
        await queryRunner.query(`CREATE INDEX "idx_gin_product_variant_title" ON "product_variant" ("title") WHERE (deleted_at IS NULL)`);
        await queryRunner.query(`CREATE INDEX "IDX_product_variant_inventory_item_variant_id" ON "product_variant_inventory_item" ("variant_id") WHERE (deleted_at IS NULL)`);
        await queryRunner.query(`CREATE INDEX "IDX_product_variant_inventory_item_inventory_item_id" ON "product_variant_inventory_item" ("inventory_item_id") WHERE (deleted_at IS NULL)`);
        await queryRunner.query(`CREATE INDEX "IDX_money_amount_currency_code" ON "money_amount" ("currency_code") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_unique_email_for_guests_and_customer_accounts" ON "customer" ("email", "has_account") WHERE (deleted_at IS NULL)`);
        await queryRunner.query(`CREATE INDEX "IDX_order_currency_code" ON "order" ("currency_code") `);
        await queryRunner.query(`CREATE INDEX "IDX_refund_payment_id" ON "refund" ("payment_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_sales_channel_location_location_id" ON "sales_channel_location" ("location_id") WHERE (deleted_at IS NULL)`);
        await queryRunner.query(`CREATE INDEX "IDX_sales_channel_location_sales_channel_id" ON "sales_channel_location" ("sales_channel_id") WHERE (deleted_at IS NULL)`);
        await queryRunner.query(`CREATE INDEX "IDX_order_edit_order_id" ON "order_edit" ("order_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_order_edit_payment_collection_id" ON "order_edit" ("payment_collection_id") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_return_reason_value" ON "return_reason" ("value") WHERE (deleted_at IS NULL)`);
        await queryRunner.query(`CREATE INDEX "IDX_payment_currency_code" ON "payment" ("currency_code") `);
        await queryRunner.query(`CREATE INDEX "idx_gin_product_collection" ON "product_collection" ("title") WHERE (deleted_at IS NULL)`);
        await queryRunner.query(`CREATE INDEX "IDX_product_category_active_public" ON "product_category" ("parent_category_id", "is_active", "is_internal") WHERE ((is_active IS TRUE) AND (is_internal IS FALSE))`);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_product_category_handle" ON "product_category" ("handle") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "UniqProductCategoryParentIdRank" ON "product_category" ("parent_category_id", "rank") `);
        await queryRunner.query(`CREATE INDEX "IDX_product_category_path" ON "product_category" ("mpath") `);
        await queryRunner.query(`ALTER TABLE "store_currencies" ADD CONSTRAINT "FK_b4f4b63d1736689b7008980394c" FOREIGN KEY ("store_id") REFERENCES "store"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "store_currencies" ADD CONSTRAINT "FK_82a6bbb0b527c20a0002ddcbd60" FOREIGN KEY ("currency_code") REFERENCES "currency"("code") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "payment_collection_payments" ADD CONSTRAINT "FK_payment_collection_payments_payment_collection_id" FOREIGN KEY ("payment_collection_id") REFERENCES "payment_collection"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "payment_collection_payments" ADD CONSTRAINT "FK_payment_collection_payments_payment_id" FOREIGN KEY ("payment_id") REFERENCES "payment"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "payment_collection_sessions" ADD CONSTRAINT "FK_payment_collection_sessions_payment_collection_id" FOREIGN KEY ("payment_collection_id") REFERENCES "payment_collection"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "payment_collection_sessions" ADD CONSTRAINT "FK_payment_collection_sessions_payment_session_id" FOREIGN KEY ("payment_session_id") REFERENCES "payment_session"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "region_fulfillment_providers" ADD CONSTRAINT "FK_c556e14eff4d6f03db593df955e" FOREIGN KEY ("region_id") REFERENCES "region"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "region_fulfillment_providers" ADD CONSTRAINT "FK_37f361c38a18d12a3fa3158d0cf" FOREIGN KEY ("provider_id") REFERENCES "fulfillment_provider"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "region_payment_providers" ADD CONSTRAINT "FK_8aaa78ba90d3802edac317df869" FOREIGN KEY ("region_id") REFERENCES "region"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "region_payment_providers" ADD CONSTRAINT "FK_3a6947180aeec283cd92c59ebb0" FOREIGN KEY ("provider_id") REFERENCES "payment_provider"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "shipping_tax_rate" ADD CONSTRAINT "FK_f672727ab020df6c50fb64c1a70" FOREIGN KEY ("shipping_option_id") REFERENCES "shipping_option"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "shipping_tax_rate" ADD CONSTRAINT "FK_346e0016cf045b9980747747645" FOREIGN KEY ("rate_id") REFERENCES "tax_rate"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "product_type_tax_rate" ADD CONSTRAINT "FK_25a3138bb236f63d9bb6c8ff111" FOREIGN KEY ("product_type_id") REFERENCES "product_type"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "product_type_tax_rate" ADD CONSTRAINT "FK_ece65a774192b34253abc4cd672" FOREIGN KEY ("rate_id") REFERENCES "tax_rate"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "product_tax_rate" ADD CONSTRAINT "FK_1d04aebeabb6a89f87e536a124d" FOREIGN KEY ("product_id") REFERENCES "product"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "product_tax_rate" ADD CONSTRAINT "FK_2484cf14c437a04586b07e7dddb" FOREIGN KEY ("rate_id") REFERENCES "tax_rate"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "product_tags" ADD CONSTRAINT "FK_5b0c6fc53c574299ecc7f9ee22e" FOREIGN KEY ("product_id") REFERENCES "product"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "product_tags" ADD CONSTRAINT "FK_21683a063fe82dafdf681ecc9c4" FOREIGN KEY ("product_tag_id") REFERENCES "product_tag"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "product_images" ADD CONSTRAINT "FK_4f166bb8c2bfcef2498d97b4068" FOREIGN KEY ("product_id") REFERENCES "product"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "product_images" ADD CONSTRAINT "FK_2212515ba306c79f42c46a99db7" FOREIGN KEY ("image_id") REFERENCES "image"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "customer_group_customers" ADD CONSTRAINT "FK_3c6412d076292f439269abe1a23" FOREIGN KEY ("customer_id") REFERENCES "customer"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "order_gift_cards" ADD CONSTRAINT "FK_e62ff11e4730bb3adfead979ee2" FOREIGN KEY ("order_id") REFERENCES "order"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "order_gift_cards" ADD CONSTRAINT "FK_f2bb9f71e95b315eb24b2b84cb3" FOREIGN KEY ("gift_card_id") REFERENCES "gift_card"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "order_discounts" ADD CONSTRAINT "FK_e7b488cebe333f449398769b2cc" FOREIGN KEY ("order_id") REFERENCES "order"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "order_discounts" ADD CONSTRAINT "FK_0fc1ec4e3db9001ad60c19daf16" FOREIGN KEY ("discount_id") REFERENCES "discount"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "cart_gift_cards" ADD CONSTRAINT "FK_d38047a90f3d42f0be7909e8aea" FOREIGN KEY ("cart_id") REFERENCES "cart"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "cart_gift_cards" ADD CONSTRAINT "FK_0fb38b6d167793192bc126d835e" FOREIGN KEY ("gift_card_id") REFERENCES "gift_card"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "cart_discounts" ADD CONSTRAINT "FK_6680319ebe1f46d18f106191d59" FOREIGN KEY ("cart_id") REFERENCES "cart"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "cart_discounts" ADD CONSTRAINT "FK_8df75ef4f35f217768dc1135458" FOREIGN KEY ("discount_id") REFERENCES "discount"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "claim_item_tags" ADD CONSTRAINT "FK_c2c0f3edf39515bd15432afe6e5" FOREIGN KEY ("item_id") REFERENCES "claim_item"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "claim_item_tags" ADD CONSTRAINT "FK_dc9bbf9fcb9ba458d25d512811b" FOREIGN KEY ("tag_id") REFERENCES "claim_tag"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "discount_regions" ADD CONSTRAINT "FK_f4194aa81073f3fab8aa86906ff" FOREIGN KEY ("discount_id") REFERENCES "discount"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "discount_regions" ADD CONSTRAINT "FK_a21a7ffbe420d492eb46c305fec" FOREIGN KEY ("region_id") REFERENCES "region"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "discount_condition_customer_group" ADD CONSTRAINT "FK_4d5f98645a67545d8dea42e2eb8" FOREIGN KEY ("customer_group_id") REFERENCES "customer_group"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "discount_condition_customer_group" ADD CONSTRAINT "FK_8486ee16e69013c645d0b8716b6" FOREIGN KEY ("condition_id") REFERENCES "discount_condition"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_collection" ADD CONSTRAINT "FK_a0b05dc4257abe639cb75f8eae2" FOREIGN KEY ("product_collection_id") REFERENCES "product_collection"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_collection" ADD CONSTRAINT "FK_a1c4f9cfb599ad1f0db39cadd5f" FOREIGN KEY ("condition_id") REFERENCES "discount_condition"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_tag" ADD CONSTRAINT "FK_01486cc9dc6b36bf658685535f6" FOREIGN KEY ("product_tag_id") REFERENCES "product_tag"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_tag" ADD CONSTRAINT "FK_fbb2499551ed074526f3ee36241" FOREIGN KEY ("condition_id") REFERENCES "discount_condition"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_type" ADD CONSTRAINT "FK_e706deb68f52ab2756119b9e704" FOREIGN KEY ("product_type_id") REFERENCES "product_type"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product_type" ADD CONSTRAINT "FK_6ef23ce0b1d9cf9b5b833e52b9d" FOREIGN KEY ("condition_id") REFERENCES "discount_condition"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product" ADD CONSTRAINT "FK_c759f53b2e48e8cfb50638fe4e0" FOREIGN KEY ("product_id") REFERENCES "product"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "discount_condition_product" ADD CONSTRAINT "FK_f05132301e95bdab4ba1cf29a24" FOREIGN KEY ("condition_id") REFERENCES "discount_condition"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "product_category_product" ADD CONSTRAINT "FK_product_category_id" FOREIGN KEY ("product_category_id") REFERENCES "product_category"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "product_category_product" ADD CONSTRAINT "FK_product_id" FOREIGN KEY ("product_id") REFERENCES "product"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "product_sales_channel" ADD CONSTRAINT "FK_37341bad297fe5cca91f921032b" FOREIGN KEY ("sales_channel_id") REFERENCES "sales_channel"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "store" ADD CONSTRAINT "FK_61b0f48cccbb5f41c750bac7286" FOREIGN KEY ("default_sales_channel_id") REFERENCES "sales_channel"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "payment_collection" ADD CONSTRAINT "FK_payment_collection_region_id" FOREIGN KEY ("region_id") REFERENCES "region"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "batch_job" ADD CONSTRAINT "FK_fa53ca4f5fd90605b532802a626" FOREIGN KEY ("created_by") REFERENCES "user"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "order" ADD CONSTRAINT "FK_6ff7e874f01b478c115fdd462eb" FOREIGN KEY ("sales_channel_id") REFERENCES "sales_channel"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "refund" ADD CONSTRAINT "FK_refund_payment_id" FOREIGN KEY ("payment_id") REFERENCES "payment"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "draft_order" ADD CONSTRAINT "FK_5bd11d0e2a9628128e2c26fd0a6" FOREIGN KEY ("cart_id") REFERENCES "cart"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "cart" ADD CONSTRAINT "FK_a2bd3c26f42e754b9249ba78fd6" FOREIGN KEY ("sales_channel_id") REFERENCES "sales_channel"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "line_item" ADD CONSTRAINT "line_item_original_item_fk" FOREIGN KEY ("original_item_id") REFERENCES "line_item"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "line_item" ADD CONSTRAINT "line_item_order_edit_fk" FOREIGN KEY ("order_edit_id") REFERENCES "order_edit"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "order_edit" ADD CONSTRAINT "FK_order_edit_payment_collection_id" FOREIGN KEY ("payment_collection_id") REFERENCES "payment_collection"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "line_item_tax_line" ADD CONSTRAINT "FK_5077fa54b0d037e984385dfe8ad" FOREIGN KEY ("item_id") REFERENCES "line_item"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "return_reason" ADD CONSTRAINT "FK_2250c5d9e975987ab212f61a657" FOREIGN KEY ("parent_return_reason_id") REFERENCES "return_reason"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    }

}
